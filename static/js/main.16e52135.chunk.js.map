{"version":3,"sources":["redux/reducers/users.js","redux/reducers/messages.js","redux/reducers/index.js","redux/actionTypes.js","redux/store.js","shared/style.js","containers/ChatInput/index.jsx","redux/actions.js","components/ChatHistory/index.jsx","components/ChatView/index.jsx","ChatApp.jsx","index.js"],"names":["initialState","users","userCounter","rootReducer","combineReducers","state","action","type","userToRemove","payload","filter","usr","messages","user","message","createdAt","Date","store","createStore","palette","ChatInput","props","useState","setMessage","dispatch","useDispatch","InputGroup","Input","componentClass","value","onChange","val","Button","onClick","replace","length","Icon","icon","Container","styled","div","Message","isAdmin","isCurrent","Body","p","Div","Time","ChatHistory","currentUser","useSelector","ref","useRef","useEffect","current","scrollTo","scrollHeight","map","m","key","getTime","toLocaleString","Card","Header","h4","Math","floor","random","Content","InputContainer","ChatView","usersCount","IconButton","size","H1","h1","ReactDOM","render","Navbar","appearance","className","Nav","pullRight","Item","document","getElementById"],"mappings":"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","file":"static/js/main.16e52135.chunk.js","sourcesContent":["import { ADD_USER, REMOVE_USER } from '../actionTypes';\n\nconst initialState = {\n\tusers: [1, 2],\n\tuserCounter: 3,\n};\n\nexport const users = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_USER: {\n\t\t\treturn {\n\t\t\t\tusers: [...state.users, state.userCounter],\n\t\t\t\tuserCounter: state.userCounter + 1,\n\t\t\t};\n\t\t}\n\t\tcase REMOVE_USER: {\n\t\t\tconst { userToRemove } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: state.users.filter((usr) => usr !== userToRemove),\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { SEND_MESSAGE, NEW_USER_MESSAGE } from '../actionTypes';\n\nconst initialState = [];\n\nexport const messages = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase NEW_USER_MESSAGE:\n\t\tcase SEND_MESSAGE: {\n\t\t\tconst { user, message } = action.payload;\n\t\t\treturn [...state, { user, message, createdAt: new Date() }];\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { combineReducers } from 'redux';\nimport { users } from './users';\nimport { messages } from './messages';\n\nexport const rootReducer = combineReducers({ users, messages });\n","export const ADD_USER = 'ADD_USER';\nexport const NEW_USER_MESSAGE = 'NEW_USER_MESSAGE';\nexport const REMOVE_USER = 'REMOVE_USER';\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\n","import { createStore } from 'redux';\nimport { rootReducer } from './reducers';\n\nexport const store = createStore(rootReducer);\n","export const palette = [\n\t'#34c3ff',\n\t'#3498ff',\n\t'#2575fc',\n\t'#0052cc',\n\t'#1361aa',\n\t'#3f51b5',\n\t'#2487c2',\n\t'#ffeb3b',\n\t'#f5a623',\n\t'#f44336',\n\t'#e54304',\n\t'#e91e63',\n\t'#9c27b0',\n\t'#429321',\n\t'#4a148c',\n\t'#673ab7',\n\t'#607d8b',\n\t'#880061',\n];\n","import React, { useState } from 'react';\nimport { Icon, Input, InputGroup } from 'rsuite';\nimport { useDispatch } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport { sendMessage } from '../../redux/actions';\n\nexport const ChatInput = (props) => {\n\tconst { user } = props;\n\tconst [message, setMessage] = useState('');\n\tconst dispatch = useDispatch();\n\n\tconst handleChange = (val) => {\n\t\tsetMessage(val);\n\t};\n\tconst handleSubmit = () => {\n\t\tif (message && message.replace(/\\s/g, '').length) {\n\t\t\tdispatch(sendMessage({ user, message }));\n\t\t}\n\t\tsetMessage('');\n\t};\n\n\treturn (\n\t\t<InputGroup>\n\t\t\t<Input componentClass=\"textarea\" value={message} onChange={handleChange} />\n\t\t\t<InputGroup.Button onClick={handleSubmit}>\n\t\t\t\t<Icon icon=\"send\" />\n\t\t\t</InputGroup.Button>\n\t\t</InputGroup>\n\t);\n};\n\nChatInput.propTypes = {\n\tuser: PropTypes.number.isRequired,\n};\n","import { ADD_USER, NEW_USER_MESSAGE, REMOVE_USER, SEND_MESSAGE } from './actionTypes';\n\nexport const addUser = () => ({\n\ttype: ADD_USER,\n});\n\nexport const removeUser = (userToRemove) => ({\n\ttype: REMOVE_USER,\n\tpayload: { userToRemove },\n});\n\nexport const sendMessage = (content) => ({\n\ttype: SEND_MESSAGE,\n\tpayload: content,\n});\n\nexport const newUserMessage = (newUser) => ({\n\ttype: NEW_USER_MESSAGE,\n\tpayload: {\n\t\tuser: 'admin',\n\t\tmessage: `User ${newUser} joined the chat`,\n\t},\n});\n","import React, { useRef, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tflex-direction: column;\n\toverflow-y: auto;\n\twidth: 100%;\n\theight: calc(100% - 120px);\n`;\n\nconst Message = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-size: 2rem;\n\tbackground-color: rgba(242, 250, 255, 0.7);\n\tborder-radius: 5px;\n\tpadding: 0.5rem;\n\tmin-width: 10%;\n\tmargin-bottom: 0.5rem;\n\t${({ isAdmin, isCurrent }) => {\n\t\tif (isCurrent) {\n\t\t\treturn `\n\t\t\t\talign-self: flex-end;\n\t\t\t\talign-items: flex-end;\n\t\t\t`;\n\t\t}\n\t\tif (isAdmin) {\n\t\t\treturn `\n\t\t\t\talign-self: center;\n\t\t\t\tjustify-content: center;\n\t\t\t`;\n\t\t}\n\t\treturn 'align-self: flex-start';\n\t}};\n`;\n\nMessage.Body = styled.p`\n\tmargin: 0;\n\tword-wrap: break-word;\n\tword-break: break-all;\n\toverflow-wrap: break-word;\n`;\n\nconst Div = styled.div`\n\tfont-size: 0.7em;\n\tfont-weight: bold;\n`;\n\nconst Time = styled.div`\n\tfont-size: 0.5em;\n`;\n\nexport const ChatHistory = (props) => {\n\tconst { currentUser } = props;\n\tconst messages = useSelector((state) => state.messages);\n\n\tconst ref = useRef();\n\n\tuseEffect(() => {\n\t\tif (ref.current) {\n\t\t\tref.current.scrollTo(0, ref.current.scrollHeight);\n\t\t}\n\t}, [messages]);\n\n\treturn (\n\t\t<Container ref={ref}>\n\t\t\t{messages.map((m) => {\n\t\t\t\tconst isCurrent = m.user === currentUser;\n\t\t\t\tconst isAdmin = m.user === 'admin';\n\t\t\t\treturn (\n\t\t\t\t\t<Message key={m.message + m.createdAt.getTime()} isCurrent={isCurrent} isAdmin={isAdmin}>\n\t\t\t\t\t\t{!isAdmin && !isCurrent && <Div>User {m.user}</Div>}\n\t\t\t\t\t\t{!isAdmin && <Time>{m.createdAt.toLocaleString()}</Time>}\n\t\t\t\t\t\t<Message.Body isCurrent={isCurrent}>{m.message}</Message.Body>\n\t\t\t\t\t</Message>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Container>\n\t);\n};\n\nChatHistory.propTypes = {\n\tcurrentUser: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport { Icon, IconButton } from 'rsuite';\nimport styled from 'styled-components';\nimport { removeUser } from '../../redux/actions';\nimport { palette } from '../../shared/style';\nimport { ChatInput } from '../../containers';\nimport { ChatHistory } from '../ChatHistory';\n\nconst Card = styled.div`\n\twidth: 400px;\n\theight: 568px;\n\tborder-radius: 6px;\n\tbox-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);\n\tposition: relative;\n\toverflow: hidden;\n\tmargin: 0.5rem;\n`;\n\nCard.Header = styled.h4`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex-direction: row;\n\tfont-size: 2rem;\n\tfont-weight: bold;\n\tpadding: 0.5rem 1rem;\n\tbackground-color: ${({ user }) => {\n\t\tif (user < palette.length) {\n\t\t\treturn palette[user];\n\t\t}\n\t\treturn palette[Math.floor(Math.random() * palette.length)];\n\t}};\n\tcolor: #ffffff;\n`;\n\nCard.Content = styled.div`\n\tpadding: 1rem;\n\twidth: 100%;\n\theight: 100%;\n`;\n\nconst InputContainer = styled.div`\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n`;\n\nexport const ChatView = (props) => {\n\tconst { user, usersCount } = props;\n\tconst dispatch = useDispatch();\n\n\tconst handleUserRemoval = () => {\n\t\tdispatch(removeUser(user));\n\t};\n\n\treturn (\n\t\t<Card>\n\t\t\t<Card.Header user={user}>\n\t\t\t\tUser {user}\n\t\t\t\t{usersCount > 2 && <IconButton onClick={handleUserRemoval} size=\"xs\" icon={<Icon icon=\"close\" />} />}\n\t\t\t</Card.Header>\n\t\t\t<Card.Content>\n\t\t\t\t<ChatHistory currentUser={user} />\n\t\t\t\t<InputContainer>\n\t\t\t\t\t<ChatInput user={user} />\n\t\t\t\t</InputContainer>\n\t\t\t</Card.Content>\n\t\t</Card>\n\t);\n};\n\nChatView.propTypes = {\n\tuser: PropTypes.number.isRequired,\n\tusersCount: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Container, Header, Nav, Navbar, Icon } from 'rsuite';\nimport styled from 'styled-components';\nimport { ChatView } from './components';\nimport { addUser, newUserMessage } from './redux/actions';\nimport 'rsuite/dist/styles/rsuite-default.css';\n\nconst H1 = styled.h1`\n\tfont-size: 3rem;\n\tline-height: 2em;\n\tmargin-left: 1rem;\n`;\n\nconst Content = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tpadding: 1rem;\n`;\n\nexport const ChatApp = () => {\n\tconst { users, userCounter } = useSelector((state) => state.users);\n\tconst dispatch = useDispatch();\n\tconst handleAddUser = () => {\n\t\tdispatch(addUser());\n\t\tdispatch(newUserMessage(userCounter));\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<Header>\n\t\t\t\t<Navbar appearance=\"inverse\">\n\t\t\t\t\t<Navbar.Header>\n\t\t\t\t\t\t<H1 className=\"navbar-brand logo\">Home Test</H1>\n\t\t\t\t\t</Navbar.Header>\n\t\t\t\t\t<Navbar.Body>\n\t\t\t\t\t\t<Nav pullRight onClick={handleAddUser}>\n\t\t\t\t\t\t\t<Nav.Item icon={<Icon icon=\"plus\" />}>Create New User</Nav.Item>\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Body>\n\t\t\t\t</Navbar>\n\t\t\t</Header>\n\t\t\t<Content>\n\t\t\t\t{users.map((usr) => (\n\t\t\t\t\t<ChatView key={usr} user={usr} usersCount={users.length} />\n\t\t\t\t))}\n\t\t\t</Content>\n\t\t</Container>\n\t);\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport './index.css';\nimport { ChatApp } from './ChatApp';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ChatApp />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}